#############################################################################
# $Id$

Import('env')

sources = Split("""
   src/camera.cpp
   src/cmds.cpp
   src/engine.cpp
   src/entity.cpp
   src/entitymanager.cpp
   src/glinterleave.cpp
   src/gltexture.cpp
   src/input.cpp
   src/luainterp.cpp
   src/model.cpp
   src/modelanim.cpp
   src/ms3dread.cpp
   src/renderer.cpp
   src/saveloadmanager.cpp
   src/sim.cpp
   src/terrain.cpp
   src/terrainrender.cpp
""")

if env['PLATFORM'] == 'win32':
   sources = sources + ['src/syswin.cpp', 'src/soundwin.cpp']
elif env['PLATFORM'] == 'cygwin':
   sources = sources + ['src/syslinux.cpp']

includePaths = Split("""
   #engine/include
   #render/include
   #tech/include
""")

libPaths = Split("""
   #allguids
   #tech
""")

linkLibs = Split("""
   allguids
   tech
""")

env = env.Copy()
env.UseGL()
env.UseLua()
env.UseTinyxml()
env.BuildLibrary('engine', sources, include_path=includePaths, lib_path=libPaths, libs=linkLibs)
