#############################################################################
# $Id: SConscript,v 1.1 2006/03/07 18:48:52 dpalma Exp $

Import('env')

sourceFiles = Split("""
   src/ExceptionHandler.cpp
   src/Failure.cpp
   src/TestException.cpp
   src/TestRegistry.cpp
   src/TestResult.cpp
   src/TestResultStdErr.cpp
""")

if env['PLATFORM'] == 'win32':
   sourceFiles += ['src/TestResultDebugOut.cpp']
elif env['PLATFORM'] == 'linux':
   sourceFiles += ['src/SignalHandler.cpp']

includePaths = Split("""
   #3rdparty/CppUnitLite2/include
""")

local = env.Copy()
local.BuildLibrary(target='CppUnitLite2',
                   source=sourceFiles,
                   include_path=includePaths)
