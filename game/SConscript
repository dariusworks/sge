#############################################################################
# $Id$

Import('*')

sources = Split("""
   cameracontroller.cpp
   cmds.cpp
   groundtiled.cpp
   heightmap.cpp
   main.cpp
   script.cpp
""")

if env['PLATFORM'] == 'win32':
   sources = sources + env.RES('game.rc')

includePaths = Split("""
   #3rdparty/sgi
   #3rdparty/lua/include
   #3rdparty/tinyxml
   #engine/include
   #render/include
   #tech/include
""") + glIncludePaths

libPaths = Split("""
   #3rdparty/tinyxml
   #3rdparty/lua/src
   #3rdparty/zlib
   #allguids
   #tech/src
   #render/gl
   #engine/src
""") + glLibPaths

libs = Split("""
   allguids
   tech
   rendergl
   engine
   lua
   tinyxml
   zlibwapi
   user32
   kernel32
   gdi32
   winmm
""") + glLibs

env = env.Copy()
env.Append(CPPPATH = includePaths)
env.Append(CPPDEFINES = ['STATIC_BUILD'])
env.Append(LIBPATH = libPaths)
env.Append(LIBS = libs)
if env.get('debug'):
   env['PDB'] = 'game.pdb'
env.Program('game', sources)
