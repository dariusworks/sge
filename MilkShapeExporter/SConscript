#############################################################################
# $Id$

Import('env')

sourceFiles = Split("""
   Exporter.cpp
   msPlugInApp.cpp
   msPlugInImpl.cpp
   StdAfx.cpp
""")

includePaths = Split("""
   #MilkShapeExporter
   #engine/include
   #tech/include
""")

libPaths = Split("""
   #MilkShapeExporter
   #allguids
   #tech
   #engine
""")

linkLibs = Split("""
   msModelLib.lib
   allguids.lib
   tech.lib
   engine.lib
   comdlg32.lib
""")

if env['PLATFORM'] == 'win32':
   conf = Configure(env)
   if conf.CheckHeader('afxwin.h', '<>', 'c++'):
      local = conf.Finish()
      local.UseNvTriStrip()
      local.UseTinyxml()
      local.UseZLib()
      local.BuildSharedLibrary(target='msSGEExporter',
                               source=sourceFiles + local.RES('msPlugIn.rc'),
                               deffile='#MilkShapeExporter/msPlugin.def',
                               include_path=includePaths,
                               lib_path=libPaths,
                               libs=linkLibs)
