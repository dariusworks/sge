#############################################################################
# $Id$

Import('*')

sources = Split("""
   ModelTreeInfo.cpp
   msPlugInApp.cpp
   msPlugInExportDlg.cpp
   msPlugInImpl.cpp
   StdAfx.cpp
   msPlugIn.def
""")

includePaths = Split("""
   #3rdparty/sgi
   #3rdparty/ms3dsdk/msLib
   #3rdparty/Cg/include
   #3rdparty/lua/include
   #3rdparty/tinyxml
   #engine/include
   #render/include
   #tech/include
""")

libPaths = Split("""
   #3rdparty/ms3dsdk/msLib/lib
   #3rdparty/Cg/lib
   #3rdparty/tinyxml
   #3rdparty/lua/src
   #3rdparty/zlib
   #allguids
   #tech/src
   #render/gl
   #engine/src
""")

libs = Split("""
   msModelLib.lib
   allguids.lib
   tech.lib
   rendergl.lib
   engine.lib
   lua.lib
   tinyxml.lib
   zlibwapi.lib
   user32.lib
   kernel32.lib
   gdi32.lib
   winmm.lib
   opengl32.lib
   glu32.lib
   cg.lib
   cgGL.lib
""")

env = env.Copy()
env.Append(CPPPATH = includePaths)
env.Append(CPPDEFINES = ['STATIC_BUILD'])
env.Append(LIBPATH = libPaths)
env.Append(LIBS = libs)
env.SharedLibrary('msSGEExporter', sources + env.RES('msPlugIn.rc'))
